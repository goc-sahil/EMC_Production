@isTest
global class GoToWebinarMockCallout implements HttpCalloutMock {
	
    global HTTPResponse respond(HTTPRequest req) {
		//https://api.getgo.com/G2W/rest/v2//organizers/1150664589213251590/webinars?fromTime=2022-08-01T10:00:00Z&toTime=2023-09-20T10:00:00Z&page=0&size=200
        String endpoint = req.getEndpoint(); 
        SYstem.debug('Method Name:'+req.getMethod());
        String methodName = req.getMethod();
        HttpResponse res = new HttpResponse(); 
        res.setHeader('Content-Type', 'application/json');
        if(endpoint.contains('webinars') && !endpoint.contains('performance')  && !endpoint.contains('questions')){
            if(methodName == 'POST'){
                res.setBody('{"webinarKey": "6875671771813387","conferenceUuid": "6875671771813387"}');
			}
            if(methodName == 'GET'){
                if(endpoint.contains('fromTime')){
               		 res.setBody('{ "_embedded": { "webinars": [ { "webinarKey": "1442461824433625869", "webinarID": "string", "organizerKey": "string", "accountKey": "string", "subject": "string", "description": "string", "times": [ { "startTime": "2019-08-24T14:15:22Z", "endTime": "2019-08-24T14:15:22Z" } ], "timeZone": "string", "locale": "en_US", "approvalType": "string", "registrationUrl": "string", "impromptu": true, "isPasswordProtected": true, "recurrenceType": "string", "experienceType": "string" } ] }, "page": { "size": 0, "totalElements": 0, "totalPages": 0, "number": 0 } }');
                }else{
                    res.setBody('{ "webinarKey": "1652420166782966283", "name": "Testing Webinar5", "webinarID": "295644795", "subject": "Testing Webinar5", "description": "Testing Webinar 5", "organizerKey": "1150664589213251590", "organizerEmail": "willh@mburse.com", "organizerName": "Will Hanson", "times": [ { "startTime": "2022-11-16T12:38:00Z", "endTime": "2022-11-16T16:00:00Z" } ], "registrationUrl": "https://attendee.gotowebinar.com/register/1652420166782966283", "inSession": false, "impromptu": false, "type": "single_session", "webinarSchedulingContext": "DEFAULT", "timeZone": "America/Denver", "numberOfRegistrants": 6, "pendingRegistrants": 0, "deniedRegistrants": 0, "registrationLimit": 2500, "locale": "en_US", "replyTo": { "name": "Will Hanson", "email": "willh@mburse.com" }, "accountKey": "519989117567449094", "recurrencePeriod": "NEVER", "isOndemand": false, "experienceType": "CLASSIC", "hasDisclaimer": false, "isMainOrganizerActive": true, "verifyHumanRegistrant": false, "breakoutsAllowed": false, "broadcast": false, "isPasswordProtected": false }');
                }
            }
        	
        }else if(endpoint.contains('performance')){
            res.setBody('{ "sessionInfo": { "webinarName": "New Platform Training", "recurrencePeriod": "intermittent", "webinarId": "306118907", "sessionKey": "29009245", "registrationLinkClickedCount": 16, "timeZone": "America/Denver", "startTime": "2017-05-05T16:55:59Z", "endTime": "2017-05-05T17:32:20Z", "experienceType": "classic", "registrationEmailOpenedCount": 0 }, "pollsAndSurveys": { "surveyCount": 0, "questionsAsked": 0, "pollCount": 0, "percentagePollsCompleted": 0, "percentageSurveysCompleted": 0 }, "attendance": { "percentageAttendance": 50, "registrantCount": 2, "averageInterestRating": 52, "averageAttendanceTimeSeconds": 1826, "averageAttentiveness": 23 } }');
		}else if(endpoint.contains('questions')){
            res.setBody('[ { "question": "How are you ?", "askedBy": "dhanrajkhatri453@gmail.com", "askerKey": "9192607027566727691", "dateAsked": "2022-09-05T11:47:38Z", "answers": [ { "answer": "I am good.How about you ?", "answeredBy": "1150664589213251590", "answererRole": "INTERNAL_ORGANIZER", "answerTime": "2022-09-05T11:47:58Z", "answererEmail": "willh@mburse.com" } ] }, { "question": "I have one Question", "askedBy": "dhanrajkhatri453@gmail.com", "askerKey": "9192607027566727691", "dateAsked": "2022-09-05T11:48:42Z", "answers": [ { "answer": "Yes please tell me", "answeredBy": "1150664589213251590", "answererRole": "INTERNAL_ORGANIZER", "answerTime": "2022-09-05T11:48:57Z", "answererEmail": "willh@mburse.com" } ] }, { "question": "How to generate this webinar link ?", "askedBy": "dhanrajkhatri453@gmail.com", "askerKey": "9192607027566727691", "dateAsked": "2022-09-05T11:49:11Z", "answers": [] } ]');
		}else if(endpoint.contains('token')){
            res.setBody('{ "access_token": "eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSByZWFsdGltZS52Mi5ub3RpZmljYXRpb25zLm1hbmFnZSBmYXgudjEucmVhZCBtZXNzYWdpbmcudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgbWVzc2FnaW5nLnYxLnNlbmQgZmF4LnYxLndyaXRlIGlkZW50aXR5OiBtZXNzYWdpbmcudjEucmVhZCB3ZWJydGMudjEucmVhZCB3ZWJydGMudjEud3JpdGUgY29sbGFiOiBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIiwic3ViIjoiMTE1MDY2NDU4OTIxMzI1MTU5MCIsImF1ZCI6IjY4OGRiZGM0LTdiOTQtNDFkZS04NDM1LTljOTczNmQ3NGNmOCIsIm9nbiI6InB3ZCIsImxzIjoiZWYwMjcxNzUtNmFmOC00NzYyLWJiNGItZWE2ZDllMGM0YWQwIiwidHlwIjoiYSIsImV4cCI6MTY2MjM2MzAyNSwiaWF0IjoxNjYyMzU5NDI1LCJqdGkiOiJhZjVjYjkwZS0zYzNkLTQ5MjgtYWEwNS1lZjg4NzIxYjY5ZGEifQ.PupY1dvBYaUOsHkmVFYBEaav47gW9fvA0H4kQrN_puz3092dgyFglFfKEqlCgDDAbeRqEd3k-vDqrgva33gqvnOfLK2wbYB2wNCcCQwePMPA5WzvIT5iGNcuSG2JfJgpg8-hXDmx6i8dE_yD3LunMPdJ_7Ht89VhqUSD4b0l3LtN3kIG-63aEfkdsu_-yH3_0SdeO6jWDl0v64Bb7SKC6Fij6OESeNraUjJ-d7PzGQmAbqfwQUs5olpAX7cRJyvOPYa0yS-kpRmbwmrw1AQKcz--P3D9MMDqjPqh1J_Xp1iw1xYD9Zk_ZaxBqbIeTgM0EdXSnpe56ciMtIkPh-1hHg", "token_type": "Bearer", "refresh_token": "eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSByZWFsdGltZS52Mi5ub3RpZmljYXRpb25zLm1hbmFnZSBmYXgudjEucmVhZCBtZXNzYWdpbmcudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgbWVzc2FnaW5nLnYxLnNlbmQgZmF4LnYxLndyaXRlIGlkZW50aXR5OiBtZXNzYWdpbmcudjEucmVhZCB3ZWJydGMudjEucmVhZCB3ZWJydGMudjEud3JpdGUgY29sbGFiOiBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIiwic3ViIjoiMTE1MDY2NDU4OTIxMzI1MTU5MCIsImF1ZCI6IjY4OGRiZGM0LTdiOTQtNDFkZS04NDM1LTljOTczNmQ3NGNmOCIsIm9nbiI6InB3ZCIsInR5cCI6InIiLCJleHAiOjE2NjQ5NTE0MjUsImlhdCI6MTY2MjM1OTQyNSwianRpIjoiOWI3NTNhNDUtYjE2ZS00ZmEwLWI5MjctYmMwNDVjZDI2OTdkIn0.pMfHFZOJfgJWg-sBbKOl41qh1bRBLIkhndGPPMV-hVfUFjGDuqU4ldYYb0E6cilQr2ManjHQOa0XGocPeMEP64i60b6VfZpETZ-1_gAsCuDt4ViUdnti5v8vLv4baRsQP1RQz_PrxkbK750cuOhcmAeZnTSftjXkRL1Ndwnxi4D6DH5v2xM6RGuzO_dfFg2ozU24eZCUw4oRMLC3Z6fi0PMxsrsmtRVW7XxU8P_fpd3JymKUTiN3pDhRrn9vzKg_o77rs5bzQP9t7Lf_zbYdbmfC9rpIzzwsYVvUGT5iShVIGUO8GLEGP1PTIvinafAKv6vdE7F8mtwys-kcS_Ej3g", "expires_in": 3600, "scope": "call-control.v1.calls.control calls.v2.initiate messaging.v1.write realtime.v2.notifications.manage fax.v1.read messaging.v1.notifications.manage messaging.v1.send fax.v1.write identity: messaging.v1.read webrtc.v1.read webrtc.v1.write collab: cr.v1.read fax.v1.notifications.manage users.v1.lines.read", "principal": "willh@mburse.com", "loa": 2 }]');
        }else if(endpoint.contains('grant_type=refresh_token')){
            res.setBody('{  "access_token": "eyJraWQiOiI2MjAiLCJhbGciOiJSUzUxMiJ9.eyJzYyI6ImNhbGwtY29udHJvbC52MS5jYWxscy5jb250cm9sIGNhbGxzLnYyLmluaXRpYXRlIG1lc3NhZ2luZy52MS53cml0ZSByZWFsdGltZS52Mi5ub3RpZmljYXRpb25zLm1hbmFnZSBmYXgudjEucmVhZCBtZXNzYWdpbmcudjEubm90aWZpY2F0aW9ucy5tYW5hZ2UgbWVzc2FnaW5nLnYxLnNlbmQgZmF4LnYxLndyaXRlIGlkZW50aXR5OiBtZXNzYWdpbmcudjEucmVhZCB3ZWJydGMudjEucmVhZCB3ZWJydGMudjEud3JpdGUgY29sbGFiOiBjci52MS5yZWFkIGZheC52MS5ub3RpZmljYXRpb25zLm1hbmFnZSB1c2Vycy52MS5saW5lcy5yZWFkIiwic3ViIjoiMTE1MDY2NDU4OTIxMzI1MTU5MCIsImF1ZCI6IjY4OGRiZGM0LTdiOTQtNDFkZS04NDM1LTljOTczNmQ3NGNmOCIsIm9nbiI6InB3ZCIsInR5cCI6ImEiLCJleHAiOjE2NjI3MTAyODQsImlhdCI6MTY2MjcwNjY4NCwianRpIjoiYTQ0Njk3OGQtMjMyMS00NjI4LWE4NjYtOGYyNmZkYzcxMzJjIn0.vSirw7wTw-FQTBviHfnbPOzdXGKQP0e0zWqS65sVN88rtyeILbOoFxxmVNPrPUteLAGrcgYPD6F-aZwvLnn0bGipdOPTuh4CgSjtCU-J5clCsHHyUnxFEfXMtCxNdwgQKf6__22GMgDHH7IiSk69iRTseZzdOYst62VFiM1m8RwiwRbYgtIpZCuj3v8a__bLZpPfqvkzrJzruJGOVMCk-vAA1yvxe2kRsF_kV2LyCp7tLw9Iqye8QvWlm6wt1VIXp0iUMmBR9v9bXXeE81KhliUWapM4ateItrNJ_j4O6Wc6Ikp2Y5vZPnDP02Iesj02RNQqFfkmD8mAKUl18Z0znA", "token_type": "Bearer", "expires_in": 3600, "scope": "call-control.v1.calls.control calls.v2.initiate messaging.v1.write realtime.v2.notifications.manage fax.v1.read messaging.v1.notifications.manage messaging.v1.send fax.v1.write identity: messaging.v1.read webrtc.v1.read webrtc.v1.write collab: cr.v1.read fax.v1.notifications.manage users.v1.lines.read", "principal": "willh@mburse.com", "loa": 2 }]');
        }
        res.setStatusCode(200);
        return res;
    }
}