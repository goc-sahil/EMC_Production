<template>

<!-- <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01" class="slds-modal slds-fade-in-open slds-modal_full backdrop_style animate__animated animate__slideInLeft animate__faster">
    <div class="slds-modal__container modal_css">-->
    <template lwc:if={ishow}> 
        <div class="animate__animated animate__slideInLeft animate__faster">    
            <div class="header_section">
                <div class="header1">
                <template lwc:if={dateRange}>
                    <div class="date_range">
                        <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">Date</label> 
                                <div class="flat-container">
                                    <input class="flat-input  date-selector"  data-id="fromDate" value={from_Date}  lwc:dom="manual" placeholder="Start date" readonly="readonly" data-language='en' />
                                    <a class="input-button" data-toggle="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 12 12" fill="none" >
                                            <path d="M10.1089 1.88643H8.94622V1.3946C8.94622 1.11579 8.73044 0.9 8.45162 0.9C8.17281 0.9 7.95703 1.11578 7.95703 1.3946V1.88643H4.07252V1.3946C4.07252 1.11579 3.85674 0.9 3.57792 0.9C3.29911 0.9 3.08333 1.11578 3.08333 1.3946V1.88643H1.92065C1.35247 1.88643 0.9 2.3389 0.9 2.90708V10.2461V10.2461C0.900101 10.8274 1.36579 11.2799 1.92074 11.2799H10.1088C10.677 11.2799 11.1295 10.8275 11.1295 10.2593L11.1295 2.90708C11.1295 2.3389 10.6771 1.88643 10.1089 1.88643ZM1.88927 5.78222H10.1404V10.2461V10.2544L10.1417 10.2625C10.1428 10.2691 10.1411 10.2758 10.1355 10.2822C10.1326 10.2855 10.1293 10.2879 10.1263 10.2894C10.1234 10.2908 10.1219 10.2908 10.1219 10.2908H1.92074C1.904 10.2908 1.89781 10.2857 1.89607 10.2839C1.89433 10.2822 1.88918 10.276 1.88918 10.2593L1.88927 5.78222ZM3.08342 2.87558V3.17305C3.08342 3.45186 3.2992 3.66764 3.57802 3.66764C3.85682 3.66764 4.07261 3.45186 4.07261 3.17305V2.87558H7.97028V3.17305C7.97028 3.45186 8.18606 3.66764 8.46487 3.66764C8.74369 3.66764 8.95947 3.45186 8.95947 3.17305V2.87558H10.1221C10.1389 2.87558 10.1451 2.88072 10.1468 2.88246C10.1486 2.8842 10.1537 2.89037 10.1537 2.90714V4.79313H1.88921V2.90714C1.88921 2.90727 1.88922 2.90519 1.89114 2.90108C1.89308 2.89692 1.89638 2.89202 1.90102 2.88737C1.90566 2.88272 1.91055 2.87942 1.91469 2.87749C1.91873 2.8756 1.92079 2.87558 1.92069 2.87558H3.08342Z" fill="#7ABB4A" stroke="#7ABB4A" stroke-width="0.2"/>
                                        </svg>
                                    </a>
                                </div>
                        
                                <label class="slds-form-element__label date_label date_label_02" for="mileageInput-01">to</label> 
                                <div class="flat-container width-small">
                                    <input class="flat-input date-selector"  data-id="toDate" value={to_Date}  lwc:dom="manual" placeholder="End date" readonly="readonly" data-language='en' />
                                    <a class="input-button" data-toggle="true">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 12 12" fill="none" >
                                            <path d="M10.1089 1.88643H8.94622V1.3946C8.94622 1.11579 8.73044 0.9 8.45162 0.9C8.17281 0.9 7.95703 1.11578 7.95703 1.3946V1.88643H4.07252V1.3946C4.07252 1.11579 3.85674 0.9 3.57792 0.9C3.29911 0.9 3.08333 1.11578 3.08333 1.3946V1.88643H1.92065C1.35247 1.88643 0.9 2.3389 0.9 2.90708V10.2461V10.2461C0.900101 10.8274 1.36579 11.2799 1.92074 11.2799H10.1088C10.677 11.2799 11.1295 10.8275 11.1295 10.2593L11.1295 2.90708C11.1295 2.3389 10.6771 1.88643 10.1089 1.88643ZM1.88927 5.78222H10.1404V10.2461V10.2544L10.1417 10.2625C10.1428 10.2691 10.1411 10.2758 10.1355 10.2822C10.1326 10.2855 10.1293 10.2879 10.1263 10.2894C10.1234 10.2908 10.1219 10.2908 10.1219 10.2908H1.92074C1.904 10.2908 1.89781 10.2857 1.89607 10.2839C1.89433 10.2822 1.88918 10.276 1.88918 10.2593L1.88927 5.78222ZM3.08342 2.87558V3.17305C3.08342 3.45186 3.2992 3.66764 3.57802 3.66764C3.85682 3.66764 4.07261 3.45186 4.07261 3.17305V2.87558H7.97028V3.17305C7.97028 3.45186 8.18606 3.66764 8.46487 3.66764C8.74369 3.66764 8.95947 3.45186 8.95947 3.17305V2.87558H10.1221C10.1389 2.87558 10.1451 2.88072 10.1468 2.88246C10.1486 2.8842 10.1537 2.89037 10.1537 2.90714V4.79313H1.88921V2.90714C1.88921 2.90727 1.88922 2.90519 1.89114 2.90108C1.89308 2.89692 1.89638 2.89202 1.90102 2.88737C1.90566 2.88272 1.91055 2.87942 1.91469 2.87749C1.91873 2.8756 1.92079 2.87558 1.92069 2.87558H3.08342Z" fill="#7ABB4A" stroke="#7ABB4A" stroke-width="0.2"/>
                                        </svg>
                                    </a>
                                </div>
                    </div>
                </template>
                <template lwc:if={monthlyDropdown}> 
                    <!-- <label class="slds-form-element__label date_label date_label_02" >Month</label> -->
                    <c-dropdown-select class="header_dropdown"
                            data-id="month"
                        options={monthList}
                        selected-value={lastmonth}
                        onchange={handlemonthchange}
                        main-class="default-box-input slds-truncate">
                    </c-dropdown-select>
                </template>    
                <template lwc:if={weeklyDropdown}>
                    <c-dropdown-select class="header_dropdown01" data-id="bi_week"
                        options={Weekoptions}
                        title="Week Period"
                        onchange={handleweekchange}
                        main-class="default-box-input slds-truncate" onmousedown ={handleenter}>
                    </c-dropdown-select>
                </template>  
                 <!-- <template lwc:if={recordDisplay}> -->
                    <!-- <h2> {DriverManager}: </h2>  -->
                    <c-select2-dropdown data-id="driver_dropdown" class="sync_dropdown driver"
                                                      options={picklist}
                                                      value={value}
                                                      title={placeholder}
                                                      onchange={handleDriverChange}
                                                      main-class="default-box-input slds-truncate">
                      </c-select2-dropdown>
                  <!-- </template> -->
                  <!-- <template lwc:if={showbuttons}> -->
                        <button type="button"
                        class="slds-btn slds-btn-primary slds-btn-sm btn-trip  btn_width " onclick={handleApply}>
                        Apply</button>
                        <template lwc:if={concurbtn}>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01 btn_width_01" onclick={handleConcur}>
                            Concur Sync</button>
                            <!-- <button type="button"
                            class="slds-btn slds-btn-primary slds-btn-sm btn-trip btn_width_01" onclick={handleConcur}>
                            Concur Sync</button> -->
                        </template>
                        
              <!-- </template> -->
                </div>
                <template lwc:if={showbuttons}>
                    <div >
                        <div  class="footer_section">
                            <h1>Export as </h1>
                            <template lwc:if={showEmailbtn}>
                                <button type="button"
                                class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleSendEmail}>
                                Email</button>
                            </template>    
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCreateExcel}>
                            Excel</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCreateCSV}>
                            CSV</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handlePrint}>
                            Print</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCopy}>
                            Copy</button>
                        </div>
                    </div>
                </template>  
            </div>
           
            <c-user-preview-table id="myTable" class="copy_to" view-name="User" show-footer="true"   is-footer = "true" d-flex="flow-block" divider-class="row-divider--v1"  head-th="header-title--v1" sort-th="sort-container p-top-v1"  main-class={classToTable} scrollable={isScrollable} is-paginate={paginatedModal} model-data={finaldata}
            columns={header}  options={headerdata} is-sortable={sortable} is-default-sort={isSort} colname={columnName} coltype={columnType} sortorder={sortOrder}
            onkeyinputpress={showupdatebtn} onsortedlist={sortList} onupdate={handleUpdateList} onsorteddata={handleUpdateList} norecord-message="There is no data available">
            <div slot="filter" class="slds-p-left_small slds-p-bottom_small row" >
                  <div class="report_name">{reportName}</div>
                 
            </div>
            <div slot="header">
                <div class="slds-float_right">
                    <div  class="slds-input-has-icon slds-input-has-icon_right search-holder">
                        <div class="search-icon-block">
                            <img class="search-icon" src={searchIcon} />
                        </div>
                        <div class="close-btn" if:false={isSearchEnable} onclick={handleClearInput}>
                            <svg class="close-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M4.815 14.46 14.458 4.818m-9.643 0.011 9.643 9.642" stroke="#929497" stroke-width="2" stroke-linecap="round"/></svg>
                        </div>
                        <input  class="slds-input filter-input" type="text" placeholder="Search" value={searchkey} onkeyup={handleChangebysearch}/>
                    </div>
                </div>
                
            </div>
             <c-download-C-S-V-File></c-download-C-S-V-File>
             <div slot="footer" >
                <!-- <template lwc:if={showbuttons}>
                    <div >
                        <div  class="footer_section">
                            <h1>Export as </h1><button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCreateExcel}>
                            Excel</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCreateCSV}>
                            CSV</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handlePrint}>
                            Print</button>
                            <button type="button"
                            class="slds-button slds-button_outline-brand btn-trip_01" onclick={handleCopy}>
                            Copy</button>
                        </div>
                    </div>
                </template>   -->
             </div>        
            </c-user-preview-table>
            <template lwc:if={updatebtn}>
                <div class="slds-align_absolute-center">
                    <button type="button"
                    class="slds-button slds-button_outline-brand btn-trip_01 update_btn" onclick={handleupdate}>
                    Save</button>
                    <button type="button"
                    class="slds-button slds-button_outline-brand btn-trip_01 Cancel_btn" onclick={handleCancel}>
                    Cancel</button>
                </div>
            </template>
            <div>
                <lightning-icon class=" back_button " icon-name="utility:back" size="xx-small" onclick={handleClose} ></lightning-icon>
            </div>
        <!-- </template> -->
   <!-- </div> -->
   
    <!-- </section>
    <div class="slds-backdrop slds-backdrop_open backdrop_style" role="presentation"></div>   -->
<!-- </template> -->
    </div>
</template>
<template lwc:if={anual_tax}> 
    <div class="animate__animated animate__slideInLeft animate__faster">   
        <c-driver-tax-liability-report acc-id={_accid} onback={handleClose}></c-driver-tax-liability-report>
    </div>
</template>    
</template>